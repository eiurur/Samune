// Generated by CoffeeScript 1.10.0
(function() {
  var GraphicsMagickClient, fs, gm, path;

  fs = require('fs');

  gm = require('gm');

  path = require('path');

  module.exports = GraphicsMagickClient = (function() {
    function GraphicsMagickClient() {}

    GraphicsMagickClient.prototype.getImgSize = function(source) {
      return new Promise(function(resolve, reject) {
        return gm(source).size(function(err, values) {
          if (err) {
            return reject(err);
          }
          return resolve(values);
        });
      });
    };

    GraphicsMagickClient.prototype.composite = function(params) {
      return new Promise(function(resolve, reject) {
        return gm(params.source).composite(params.input).geometry("+" + params.coordinate.x + "+" + params.coordinate.y).write(params.output, function(err) {
          if (err) {
            return reject(err);
          }
          return resolve('Fin composite');
        });
      });
    };

    GraphicsMagickClient.prototype.resize = function(params) {
      return new Promise(function(resolve, reject) {
        return gm(params.source).resize(params.width, params.height).autoOrient().write(params.output, function(err) {
          if (err) {
            return reject(err);
          }
          return resolve('Fin resize');
        });
      });
    };

    GraphicsMagickClient.prototype.type = function(params) {
      return new Promise(function(resolve, reject) {
        return gm(params.source).type(params.type).write(params.output, function(err) {
          if (err) {
            return reject(err);
          }
          return resolve('Fin type');
        });
      });
    };

    return GraphicsMagickClient;

  })();

}).call(this);
