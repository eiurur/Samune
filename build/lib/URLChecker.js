// Generated by CoffeeScript 1.10.0
(function() {
  var URLChecker, request;

  request = require('request');

  module.exports = URLChecker = (function() {
    function URLChecker() {}

    URLChecker.isURL = function(url) {
      var url_pattern;
      url_pattern = /^(https?|ftp)(:\/\/[-_.!~*\'()a-zA-Z0-9;\/?:\@&=+\\,%#]+)$/;
      return url_pattern.test(url);
    };

    URLChecker.isValidURL = function(url) {
      return new Promise(function(resolve, reject) {
        return request.get(url).on('response', function(response) {
          if (response.statusCode !== 200) {
            return reject('image url is invalid');
          }
          return resolve(true);
        }).on('error', function(err) {
          return reject(err);
        });
      });
    };

    URLChecker.getFilesizeBite = function(url) {
      return new Promise(function(resolve, reject) {
        return request.get(url).on('response', function(response) {
          if (response.statusCode !== 200) {
            return reject('image url is invalid');
          }
          return resolve(response.headers['content-length']);
        }).on('error', function(err) {
          return reject(err);
        });
      });
    };

    return URLChecker;

  })();

}).call(this);
